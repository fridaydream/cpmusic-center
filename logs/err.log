2021-01-21 21:59 +08:00: MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://docs.atlas.mongodb.com/security-whitelist/
2021-01-21 21:59 +08:00:     at NativeConnection.Connection.openUri (/Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/connection.js:832:32)
2021-01-21 21:59 +08:00:     at /Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/index.js:345:10
2021-01-21 21:59 +08:00:     at /Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/helpers/promiseOrCallback.js:31:5
2021-01-21 21:59 +08:00:     at new Promise (<anonymous>)
2021-01-21 21:59 +08:00:     at promiseOrCallback (/Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/helpers/promiseOrCallback.js:30:10)
2021-01-21 21:59 +08:00:     at Mongoose._promiseOrCallback (/Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/index.js:1135:10)
2021-01-21 21:59 +08:00:     at Mongoose.connect (/Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/index.js:344:20)
2021-01-21 21:59 +08:00:     at /Users/sf/Documents/cpmusic-center/database/init.js:38:14
2021-01-21 21:59 +08:00:     at new Promise (<anonymous>)
2021-01-21 21:59 +08:00:     at new F (/Users/sf/Documents/cpmusic-center/node_modules/core-js/library/modules/_export.js:36:28)
2021-01-21 21:59 +08:00:     at exports.connect (/Users/sf/Documents/cpmusic-center/database/init.js:33:10)
2021-01-21 21:59 +08:00:     at /Users/sf/Documents/cpmusic-center/server/index.js:26:9
2021-01-21 21:59 +08:00:     at Object.<anonymous> (/Users/sf/Documents/cpmusic-center/server/index.js:34:3)
2021-01-21 21:59 +08:00:     at Module._compile (internal/modules/cjs/loader.js:959:30)
2021-01-21 21:59 +08:00:     at Object.Module._extensions..js (internal/modules/cjs/loader.js:995:10)
2021-01-21 21:59 +08:00:     at Module.load (internal/modules/cjs/loader.js:815:32) {
2021-01-21 21:59 +08:00:   message: "Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://docs.atlas.mongodb.com/security-whitelist/",
2021-01-21 21:59 +08:00:   reason: TopologyDescription {
2021-01-21 21:59 +08:00:     type: 'ReplicaSetNoPrimary',
2021-01-21 21:59 +08:00:     setName: null,
2021-01-21 21:59 +08:00:     maxSetVersion: null,
2021-01-21 21:59 +08:00:     maxElectionId: null,
2021-01-21 21:59 +08:00:     servers: Map {
2021-01-21 21:59 +08:00:       'cluster0-shard-00-00.n6ldn.mongodb.net:27017' => [ServerDescription],
2021-01-21 21:59 +08:00:       'cluster0-shard-00-01.n6ldn.mongodb.net:27017' => [ServerDescription],
2021-01-21 21:59 +08:00:       'cluster0-shard-00-02.n6ldn.mongodb.net:27017' => [ServerDescription]
2021-01-21 21:59 +08:00:     },
2021-01-21 21:59 +08:00:     stale: false,
2021-01-21 21:59 +08:00:     compatible: true,
2021-01-21 21:59 +08:00:     compatibilityError: null,
2021-01-21 21:59 +08:00:     logicalSessionTimeoutMinutes: null,
2021-01-21 21:59 +08:00:     heartbeatFrequencyMS: 10000,
2021-01-21 21:59 +08:00:     localThresholdMS: 15,
2021-01-21 21:59 +08:00:     commonWireVersion: null
2021-01-21 21:59 +08:00:   }
2021-01-21 21:59 +08:00: }
2021-01-21 22:00 +08:00: MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://docs.atlas.mongodb.com/security-whitelist/
2021-01-21 22:00 +08:00:     at NativeConnection.Connection.openUri (/Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/connection.js:832:32)
2021-01-21 22:00 +08:00:     at /Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/index.js:345:10
2021-01-21 22:00 +08:00:     at /Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/helpers/promiseOrCallback.js:31:5
2021-01-21 22:00 +08:00:     at new Promise (<anonymous>)
2021-01-21 22:00 +08:00:     at promiseOrCallback (/Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/helpers/promiseOrCallback.js:30:10)
2021-01-21 22:00 +08:00:     at Mongoose._promiseOrCallback (/Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/index.js:1135:10)
2021-01-21 22:00 +08:00:     at Mongoose.connect (/Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/index.js:344:20)
2021-01-21 22:00 +08:00:     at NativeConnection.<anonymous> (/Users/sf/Documents/cpmusic-center/database/init.js:48:18)
2021-01-21 22:00 +08:00:     at NativeConnection.emit (events.js:210:5)
2021-01-21 22:00 +08:00:     at NativeConnection.set (/Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/connection.js:128:12)
2021-01-21 22:00 +08:00:     at /Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/connection.js:822:26
2021-01-21 22:00 +08:00:     at /Users/sf/Documents/cpmusic-center/node_modules/mongodb/lib/utils.js:668:9
2021-01-21 22:00 +08:00:     at /Users/sf/Documents/cpmusic-center/node_modules/mongodb/lib/mongo_client.js:225:23
2021-01-21 22:00 +08:00:     at connectCallback (/Users/sf/Documents/cpmusic-center/node_modules/mongodb/lib/operations/connect.js:366:5)
2021-01-21 22:00 +08:00:     at /Users/sf/Documents/cpmusic-center/node_modules/mongodb/lib/operations/connect.js:599:14
2021-01-21 22:00 +08:00:     at connectHandler (/Users/sf/Documents/cpmusic-center/node_modules/mongodb/lib/core/sdam/topology.js:285:11) {
2021-01-21 22:00 +08:00:   message: "Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://docs.atlas.mongodb.com/security-whitelist/",
2021-01-21 22:00 +08:00:   reason: TopologyDescription {
2021-01-21 22:00 +08:00:     type: 'ReplicaSetNoPrimary',
2021-01-21 22:00 +08:00:     setName: null,
2021-01-21 22:00 +08:00:     maxSetVersion: null,
2021-01-21 22:00 +08:00:     maxElectionId: null,
2021-01-21 22:00 +08:00:     servers: Map {
2021-01-21 22:00 +08:00:       'cluster0-shard-00-00.n6ldn.mongodb.net:27017' => [ServerDescription],
2021-01-21 22:00 +08:00:       'cluster0-shard-00-01.n6ldn.mongodb.net:27017' => [ServerDescription],
2021-01-21 22:00 +08:00:       'cluster0-shard-00-02.n6ldn.mongodb.net:27017' => [ServerDescription]
2021-01-21 22:00 +08:00:     },
2021-01-21 22:00 +08:00:     stale: false,
2021-01-21 22:00 +08:00:     compatible: true,
2021-01-21 22:00 +08:00:     compatibilityError: null,
2021-01-21 22:00 +08:00:     logicalSessionTimeoutMinutes: null,
2021-01-21 22:00 +08:00:     heartbeatFrequencyMS: 10000,
2021-01-21 22:00 +08:00:     localThresholdMS: 15,
2021-01-21 22:00 +08:00:     commonWireVersion: null
2021-01-21 22:00 +08:00:   }
2021-01-21 22:00 +08:00: }
2021-01-21 22:00 +08:00: Error: 数据库挂了，快去fix
2021-01-21 22:00 +08:00:     at NativeConnection.<anonymous> (/Users/sf/Documents/cpmusic-center/database/init.js:50:15)
2021-01-21 22:00 +08:00:     at NativeConnection.emit (events.js:210:5)
2021-01-21 22:00 +08:00:     at NativeConnection.set (/Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/connection.js:128:12)
2021-01-21 22:00 +08:00:     at /Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/connection.js:822:26
2021-01-21 22:00 +08:00:     at /Users/sf/Documents/cpmusic-center/node_modules/mongodb/lib/utils.js:668:9
2021-01-21 22:00 +08:00:     at /Users/sf/Documents/cpmusic-center/node_modules/mongodb/lib/mongo_client.js:225:23
2021-01-21 22:00 +08:00:     at connectCallback (/Users/sf/Documents/cpmusic-center/node_modules/mongodb/lib/operations/connect.js:366:5)
2021-01-21 22:00 +08:00:     at /Users/sf/Documents/cpmusic-center/node_modules/mongodb/lib/operations/connect.js:599:14
2021-01-21 22:00 +08:00:     at connectHandler (/Users/sf/Documents/cpmusic-center/node_modules/mongodb/lib/core/sdam/topology.js:285:11)
2021-01-21 22:00 +08:00:     at Object.callback (/Users/sf/Documents/cpmusic-center/node_modules/mongodb/lib/core/sdam/topology.js:668:9)
2021-01-21 22:00 +08:00:     at Timeout._onTimeout (/Users/sf/Documents/cpmusic-center/node_modules/mongodb/lib/core/sdam/topology.js:443:25)
2021-01-21 22:00 +08:00:     at listOnTimeout (internal/timers.js:531:17)
2021-01-21 22:00 +08:00:     at processTimers (internal/timers.js:475:7)
2021-01-21 22:02 +08:00: MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://docs.atlas.mongodb.com/security-whitelist/
2021-01-21 22:02 +08:00:     at NativeConnection.Connection.openUri (/Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/connection.js:832:32)
2021-01-21 22:02 +08:00:     at /Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/index.js:345:10
2021-01-21 22:02 +08:00:     at /Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/helpers/promiseOrCallback.js:31:5
2021-01-21 22:02 +08:00:     at new Promise (<anonymous>)
2021-01-21 22:02 +08:00:     at promiseOrCallback (/Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/helpers/promiseOrCallback.js:30:10)
2021-01-21 22:02 +08:00:     at Mongoose._promiseOrCallback (/Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/index.js:1135:10)
2021-01-21 22:02 +08:00:     at Mongoose.connect (/Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/index.js:344:20)
2021-01-21 22:02 +08:00:     at /Users/sf/Documents/cpmusic-center/database/init.js:38:14
2021-01-21 22:02 +08:00:     at new Promise (<anonymous>)
2021-01-21 22:02 +08:00:     at new F (/Users/sf/Documents/cpmusic-center/node_modules/core-js/library/modules/_export.js:36:28)
2021-01-21 22:02 +08:00:     at exports.connect (/Users/sf/Documents/cpmusic-center/database/init.js:33:10)
2021-01-21 22:02 +08:00:     at /Users/sf/Documents/cpmusic-center/server/index.js:26:9
2021-01-21 22:02 +08:00:     at Object.<anonymous> (/Users/sf/Documents/cpmusic-center/server/index.js:34:3)
2021-01-21 22:02 +08:00:     at Module._compile (internal/modules/cjs/loader.js:959:30)
2021-01-21 22:02 +08:00:     at Object.Module._extensions..js (internal/modules/cjs/loader.js:995:10)
2021-01-21 22:02 +08:00:     at Module.load (internal/modules/cjs/loader.js:815:32) {
2021-01-21 22:02 +08:00:   message: "Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://docs.atlas.mongodb.com/security-whitelist/",
2021-01-21 22:02 +08:00:   reason: TopologyDescription {
2021-01-21 22:02 +08:00:     type: 'ReplicaSetNoPrimary',
2021-01-21 22:02 +08:00:     setName: null,
2021-01-21 22:02 +08:00:     maxSetVersion: null,
2021-01-21 22:02 +08:00:     maxElectionId: null,
2021-01-21 22:02 +08:00:     servers: Map {
2021-01-21 22:02 +08:00:       'cluster0-shard-00-02.n6ldn.mongodb.net:27017' => [ServerDescription],
2021-01-21 22:02 +08:00:       'cluster0-shard-00-00.n6ldn.mongodb.net:27017' => [ServerDescription],
2021-01-21 22:02 +08:00:       'cluster0-shard-00-01.n6ldn.mongodb.net:27017' => [ServerDescription]
2021-01-21 22:02 +08:00:     },
2021-01-21 22:02 +08:00:     stale: false,
2021-01-21 22:02 +08:00:     compatible: true,
2021-01-21 22:02 +08:00:     compatibilityError: null,
2021-01-21 22:02 +08:00:     logicalSessionTimeoutMinutes: null,
2021-01-21 22:02 +08:00:     heartbeatFrequencyMS: 10000,
2021-01-21 22:02 +08:00:     localThresholdMS: 15,
2021-01-21 22:02 +08:00:     commonWireVersion: null
2021-01-21 22:02 +08:00:   }
2021-01-21 22:02 +08:00: }
2021-01-21 22:02 +08:00: MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://docs.atlas.mongodb.com/security-whitelist/
2021-01-21 22:02 +08:00:     at NativeConnection.Connection.openUri (/Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/connection.js:832:32)
2021-01-21 22:02 +08:00:     at /Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/index.js:345:10
2021-01-21 22:02 +08:00:     at /Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/helpers/promiseOrCallback.js:31:5
2021-01-21 22:02 +08:00:     at new Promise (<anonymous>)
2021-01-21 22:02 +08:00:     at promiseOrCallback (/Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/helpers/promiseOrCallback.js:30:10)
2021-01-21 22:02 +08:00:     at Mongoose._promiseOrCallback (/Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/index.js:1135:10)
2021-01-21 22:02 +08:00:     at Mongoose.connect (/Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/index.js:344:20)
2021-01-21 22:02 +08:00:     at NativeConnection.<anonymous> (/Users/sf/Documents/cpmusic-center/database/init.js:48:18)
2021-01-21 22:02 +08:00:     at NativeConnection.emit (events.js:210:5)
2021-01-21 22:02 +08:00:     at NativeConnection.set (/Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/connection.js:128:12)
2021-01-21 22:02 +08:00:     at /Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/connection.js:822:26
2021-01-21 22:02 +08:00:     at /Users/sf/Documents/cpmusic-center/node_modules/mongodb/lib/utils.js:668:9
2021-01-21 22:02 +08:00:     at /Users/sf/Documents/cpmusic-center/node_modules/mongodb/lib/mongo_client.js:225:23
2021-01-21 22:02 +08:00:     at connectCallback (/Users/sf/Documents/cpmusic-center/node_modules/mongodb/lib/operations/connect.js:366:5)
2021-01-21 22:02 +08:00:     at /Users/sf/Documents/cpmusic-center/node_modules/mongodb/lib/operations/connect.js:599:14
2021-01-21 22:02 +08:00:     at connectHandler (/Users/sf/Documents/cpmusic-center/node_modules/mongodb/lib/core/sdam/topology.js:285:11) {
2021-01-21 22:02 +08:00:   message: "Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://docs.atlas.mongodb.com/security-whitelist/",
2021-01-21 22:02 +08:00:   reason: TopologyDescription {
2021-01-21 22:02 +08:00:     type: 'ReplicaSetNoPrimary',
2021-01-21 22:02 +08:00:     setName: null,
2021-01-21 22:02 +08:00:     maxSetVersion: null,
2021-01-21 22:02 +08:00:     maxElectionId: null,
2021-01-21 22:02 +08:00:     servers: Map {
2021-01-21 22:02 +08:00:       'cluster0-shard-00-01.n6ldn.mongodb.net:27017' => [ServerDescription],
2021-01-21 22:02 +08:00:       'cluster0-shard-00-02.n6ldn.mongodb.net:27017' => [ServerDescription],
2021-01-21 22:02 +08:00:       'cluster0-shard-00-00.n6ldn.mongodb.net:27017' => [ServerDescription]
2021-01-21 22:02 +08:00:     },
2021-01-21 22:02 +08:00:     stale: false,
2021-01-21 22:02 +08:00:     compatible: true,
2021-01-21 22:02 +08:00:     compatibilityError: null,
2021-01-21 22:02 +08:00:     logicalSessionTimeoutMinutes: null,
2021-01-21 22:02 +08:00:     heartbeatFrequencyMS: 10000,
2021-01-21 22:02 +08:00:     localThresholdMS: 15,
2021-01-21 22:02 +08:00:     commonWireVersion: null
2021-01-21 22:02 +08:00:   }
2021-01-21 22:02 +08:00: }
2021-01-21 22:04 +08:00: MongooseServerSelectionError: connect ECONNREFUSED 127.0.0.1:27017
2021-01-21 22:04 +08:00:     at NativeConnection.Connection.openUri (/Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/connection.js:832:32)
2021-01-21 22:04 +08:00:     at /Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/index.js:345:10
2021-01-21 22:04 +08:00:     at /Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/helpers/promiseOrCallback.js:31:5
2021-01-21 22:04 +08:00:     at new Promise (<anonymous>)
2021-01-21 22:04 +08:00:     at promiseOrCallback (/Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/helpers/promiseOrCallback.js:30:10)
2021-01-21 22:04 +08:00:     at Mongoose._promiseOrCallback (/Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/index.js:1135:10)
2021-01-21 22:04 +08:00:     at Mongoose.connect (/Users/sf/Documents/cpmusic-center/node_modules/mongoose/lib/index.js:344:20)
2021-01-21 22:04 +08:00:     at /Users/sf/Documents/cpmusic-center/database/init.js:38:14
2021-01-21 22:04 +08:00:     at new Promise (<anonymous>)
2021-01-21 22:04 +08:00:     at new F (/Users/sf/Documents/cpmusic-center/node_modules/core-js/library/modules/_export.js:36:28)
2021-01-21 22:04 +08:00:     at exports.connect (/Users/sf/Documents/cpmusic-center/database/init.js:33:10)
2021-01-21 22:04 +08:00:     at /Users/sf/Documents/cpmusic-center/server/index.js:26:9
2021-01-21 22:04 +08:00:     at Object.<anonymous> (/Users/sf/Documents/cpmusic-center/server/index.js:34:3)
2021-01-21 22:04 +08:00:     at Module._compile (internal/modules/cjs/loader.js:959:30)
2021-01-21 22:04 +08:00:     at Object.Module._extensions..js (internal/modules/cjs/loader.js:995:10)
2021-01-21 22:04 +08:00:     at Module.load (internal/modules/cjs/loader.js:815:32) {
2021-01-21 22:04 +08:00:   message: 'connect ECONNREFUSED 127.0.0.1:27017',
2021-01-21 22:04 +08:00:   reason: TopologyDescription {
2021-01-21 22:04 +08:00:     type: 'Unknown',
2021-01-21 22:04 +08:00:     setName: null,
2021-01-21 22:04 +08:00:     maxSetVersion: null,
2021-01-21 22:04 +08:00:     maxElectionId: null,
2021-01-21 22:04 +08:00:     servers: Map { '127.0.0.1:27017' => [ServerDescription] },
2021-01-21 22:04 +08:00:     stale: false,
2021-01-21 22:04 +08:00:     compatible: true,
2021-01-21 22:04 +08:00:     compatibilityError: null,
2021-01-21 22:04 +08:00:     logicalSessionTimeoutMinutes: null,
2021-01-21 22:04 +08:00:     heartbeatFrequencyMS: 10000,
2021-01-21 22:04 +08:00:     localThresholdMS: 15,
2021-01-21 22:04 +08:00:     commonWireVersion: null
2021-01-21 22:04 +08:00:   }
2021-01-21 22:04 +08:00: }
